nelmio_cors:
  defaults:
    allow_credentials: false
    allow_origin: []
    allow_headers: ['*']
    allow_methods: []
    max_age: 3600

  paths:
    # API endpoints - múltiples orígenes para desarrollo
    '^/api/':
      allow_origin: 
        - 'http://localhost:12768'      # HMR/Dev server
        - 'http://10.0.2.2:3000'        # Meteor mobile server
        - 'http://10.0.2.2:8000'        # Backend mismo (si es necesario)
      allow_headers: ['*']
      allow_methods: ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS']
      allow_credentials: true
      max_age: 3600

    # Descargas estáticas - mismo tratamiento
    '^/uploads/documentos/':
      allow_origin: 
        - 'http://localhost:12768'
        - 'http://10.0.2.2:3000'
        - 'http://10.0.2.2:8000'
      allow_headers: ['*']
      expose_headers: ['Content-Length', 'Content-Range']
      allow_methods: ['GET', 'HEAD', 'OPTIONS']
      allow_credentials: false
      max_age: 3600